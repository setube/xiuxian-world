import{e as W,f as v,S as E,c as n,a as s,d,g as u,F as g,b as Z,j as B,Z as a,p as _,n as D,q,w as $,a4 as j,cA as m,k as w,an as G,bG as O,l as P,a1 as X,o}from"./index-DA11XDlS.js";import{Z as T}from"./zap-vMqaBpWc.js";import{L as H}from"./loader-Bk8qWIrR.js";import{C as K}from"./circle-alert-CQn7xOz3.js";import{c as N}from"./createLucideIcon-DiiZaxVK.js";import{S as A}from"./sparkles-tsZM6BNv.js";import{L as Q}from"./lock-CWZIQcVF.js";import{W as Y}from"./wind-DSFUGIbd.js";import{T as ss}from"./triangle-alert-vQJa5xBQ.js";import{C as I}from"./circle-check-big-B5OYv702.js";import{C as es,T as ls}from"./trending-down-vetOgy17.js";import{C as as}from"./circle-x-B-Ydbwdk.js";import{S as ts}from"./sword-BlVHvUf1.js";import{C as is}from"./coins-Ks2rpWqM.js";import{S as os}from"./shield-BMlq6Nq0.js";import{u as ns}from"./use-message--i6DiThE.js";import{_ as ds}from"./_plugin-vue_export-helper-DlAUqK2U.js";const us=N("cloud-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);const cs=N("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),rs={class:"fengxi-page"},vs={class:"page-header"},ps={class:"header-icon"},fs={key:0,class:"loading-state"},_s={key:1,class:"error-state"},ms={key:0,class:"unrefined-section"},ks={class:"info-card"},hs={class:"card-icon"},gs=["disabled"],ys={class:"equipment-status-card"},bs={class:"status-header"},ws={class:"action-buttons"},Ss=["disabled"],Cs=["disabled"],zs={key:0,class:"lock-warning"},xs={class:"lock-info"},qs={class:"lock-reasons"},Ms={class:"skill-name"},Bs={class:"unlock-time"},Ds={class:"skills-section"},Ts={class:"skill-card passive"},Ls={class:"skill-header"},$s={class:"skill-desc"},As={class:"skill-effects"},Is={class:"skill-restriction"},Ns={class:"skill-card passive"},Rs={class:"skill-header"},Vs={class:"skill-desc"},Fs={class:"skill-effects"},Us={class:"skill-card active"},Js={class:"skill-header"},Ws={class:"skill-desc"},Es={class:"skill-info"},Zs={class:"info-row"},js={class:"value"},Gs={class:"info-row"},Os={class:"value"},Ps={key:0,class:"cooldown-timer"},Xs={class:"sub-skills"},Hs=["onClick"],Ks={class:"sub-skill-header"},Qs={class:"positioning"},Ys={class:"sub-skill-desc"},se={class:"sub-skill-command"},ee={key:0,class:"skill-modal"},le={class:"modal-header"},ae={class:"positioning-tag"},te={class:"modal-desc"},ie={class:"target-input"},oe={class:"modal-actions"},ne=["disabled"],de={class:"result-header"},ue={class:"result-message"},ce={key:0,class:"result-details"},re={key:0,class:"detail-item"},ve={key:1,class:"detail-item"},pe={key:2,class:"detail-item success"},fe=W({__name:"Fengxi",setup(_e){const r=ns(),M=v(!0),t=v(null),S=v(!1),k=v(!1),y=v(!1),p=v(null),f=v(""),C=v(!1),z=v(!1),c=v(null),L=l=>{if(l<=0)return"0秒";const e=Math.floor(l/(1e3*60*60)),h=Math.floor(l%(1e3*60*60)/(1e3*60)),i=Math.floor(l%(1e3*60)/1e3);return e>0?`${e}小时${h}分`:h>0?`${h}分${i}秒`:`${i}秒`},b=async()=>{M.value=!0;try{const l=await m.getStatus();t.value=l.data}catch(l){r.error(w(l,"加载失败"))}finally{M.value=!1}},R=async()=>{S.value=!0;try{const l=await m.refine();r.success(l.data.message),await b()}catch(l){r.error(w(l,"炼化失败"))}finally{S.value=!1}},V=async()=>{k.value=!0;try{const l=await m.equip();r.success(l.data.message),await b()}catch(l){r.error(w(l,"装备失败"))}finally{k.value=!1}},F=async()=>{k.value=!0;try{const l=await m.unequip();r.success(l.data.message),await b()}catch(l){r.error(w(l,"卸下失败"))}finally{k.value=!1}},U=l=>{if(!t.value?.equipped){r.warning("请先装备风雷翅");return}p.value=l,f.value="",y.value=!0},J=async()=>{if(!f.value){r.warning("请输入目标角色ID");return}C.value=!0;try{let l;p.value.name==="无相劫掠"?l=await m.usePlunder(f.value):p.value.name==="寂灭神雷"?l=await m.useFormationBreak(f.value):p.value.name==="血色惊雷"&&(l=await m.useBloodThunder(f.value)),l&&(c.value=l.data,y.value=!1,z.value=!0,await b())}catch(l){r.error(w(l,"技能施展失败"))}finally{C.value=!1}};return E(async()=>{await b()}),(l,e)=>{const h=j;return o(),n("div",rs,[s("div",vs,[s("div",ps,[d(u(T),{size:28})]),e[5]||(e[5]=s("div",{class:"header-info"},[s("h2",null,"风雷翅"),s("p",null,"乱星海绝世法宝")],-1))]),M.value?(o(),n("div",fs,[d(u(H),{size:32,class:"spin"}),e[6]||(e[6]=s("p",null,"加载中...",-1))])):t.value?(o(),n(g,{key:2},[t.value.refined?(o(),n(g,{key:1},[s("div",ys,[s("div",bs,[s("div",{class:D(["status-badge",{equipped:t.value.equipped}])},a(t.value.equipped?"已装备":"未装备"),3),s("div",ws,[t.value.equipped?(o(),n("button",{key:1,class:"unequip-btn",onClick:F,disabled:k.value||t.value.locked},a(t.value.locked?"锁定中":"卸下"),9,Cs)):(o(),n("button",{key:0,class:"equip-btn",onClick:V,disabled:k.value},"装备",8,Ss))])]),t.value.locked?(o(),n("div",zs,[d(u(Q),{size:16}),s("div",xs,[e[9]||(e[9]=s("strong",null,"【神通反锁】",-1)),e[10]||(e[10]=s("p",null,"风雷翅被以下神通的因果之力锁定：",-1)),s("div",qs,[(o(!0),n(g,null,q(t.value.lockReasons,i=>(o(),n("div",{key:i.skillId,class:"lock-reason"},[s("span",Ms,a(i.skillName),1),s("span",Bs,a(L(i.remaining)),1)]))),128))])])])):_("",!0)]),s("div",Ds,[s("div",Ts,[s("div",Ls,[d(u(Y),{size:20}),e[11]||(e[11]=s("div",null,[s("h3",null,"天行神速"),s("span",{class:"skill-type"},"修炼效率神通（被动）")],-1))]),s("p",$s,a(t.value.passiveSkills.tianxingShensu.description),1),s("div",As,[(o(!0),n(g,null,q(t.value.passiveSkills.tianxingShensu.effects,(i,x)=>(o(),n("div",{key:x,class:"effect-item"},[d(u(I),{size:14}),s("span",null,a(i),1)]))),128))]),s("div",Is,[d(u(ss),{size:14}),s("span",null,a(t.value.passiveSkills.tianxingShensu.restriction),1)])]),s("div",Ns,[s("div",Rs,[d(u(T),{size:20}),e[12]||(e[12]=s("div",null,[s("h3",null,"雷光遁影"),s("span",{class:"skill-type"},"斗法神通（被动）")],-1))]),s("p",Vs,a(t.value.passiveSkills.leiguangDunying.description),1),s("div",Fs,[(o(!0),n(g,null,q(t.value.passiveSkills.leiguangDunying.effects,(i,x)=>(o(),n("div",{key:x,class:"effect-item"},[d(u(I),{size:14}),s("span",null,a(i),1)]))),128))])]),s("div",Us,[s("div",Js,[d(u(A),{size:20}),e[13]||(e[13]=s("div",null,[s("h3",null,"风雷降世"),s("span",{class:"skill-type"},"战略神通（主动）")],-1))]),s("p",Ws,a(t.value.passiveSkills.fengleiJiangshi.description),1),s("div",Es,[s("div",Zs,[e[14]||(e[14]=s("span",{class:"label"},"消耗：",-1)),s("span",js,a(t.value.passiveSkills.fengleiJiangshi.cost),1)]),s("div",Gs,[e[15]||(e[15]=s("span",{class:"label"},"冷却：",-1)),s("span",Os,[B(a(t.value.passiveSkills.fengleiJiangshi.cooldown)+" ",1),t.value.skillCooldownRemaining>0?(o(),n("span",Ps," （剩余 "+a(L(t.value.skillCooldownRemaining))+"） ",1)):_("",!0)])])]),s("div",Xs,[(o(!0),n(g,null,q(t.value.passiveSkills.fengleiJiangshi.skills,i=>(o(),n("div",{key:i.name,class:"sub-skill",onClick:x=>U(i)},[s("div",Ks,[s("h4",null,a(i.name),1),s("span",Qs,a(i.positioning),1)]),s("p",Ys,a(i.description),1),s("div",se,[d(u(cs),{size:12}),s("code",null,a(i.command)+" @目标",1)])],8,Hs))),128))])])])],64)):(o(),n("div",ms,[s("div",ks,[s("div",hs,[d(u(us),{size:48})]),e[8]||(e[8]=Z('<h3 data-v-693fed64>尚未炼化风雷翅</h3><div class="lore-box" data-v-693fed64><p data-v-693fed64>此法宝乃乱星海九级妖修风希斩杀雷鹏所得，蕴含风雷之力，催动时可达天下极速。</p><p data-v-693fed64>炼化后可获得三大神通：</p><ul data-v-693fed64><li data-v-693fed64><strong data-v-693fed64>天行神速</strong> - 缩短各类神通冷却时间 </li><li data-v-693fed64><strong data-v-693fed64>雷光遁影</strong> - 提升战斗中的机动性与保命能力 </li><li data-v-693fed64><strong data-v-693fed64>风雷降世</strong> - 三种战略级主动技能 </li></ul></div>',2)),s("button",{class:"refine-btn",onClick:R,disabled:S.value||!t.value.hasWings},[d(u(A),{size:16}),B(" "+a(S.value?"炼化中...":t.value.hasWings?"炼化风雷翅":"背包中无风雷翅"),1)],8,gs)])]))],64)):(o(),n("div",_s,[d(u(K),{size:32}),e[7]||(e[7]=s("p",null,"加载失败",-1))])),d(h,{show:y.value,"onUpdate:show":e[2]||(e[2]=i=>y.value=i),"mask-closable":!0},{default:$(()=>[p.value?(o(),n("div",ee,[s("div",le,[s("h2",null,a(p.value.name),1),s("span",ae,a(p.value.positioning),1)]),s("p",te,a(p.value.description),1),s("div",ie,[e[16]||(e[16]=s("label",null,"目标角色ID：",-1)),G(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>f.value=i),type:"text",placeholder:"请输入目标角色ID",class:"input-field"},null,512),[[O,f.value]])]),s("div",oe,[s("button",{class:"cancel-btn",onClick:e[1]||(e[1]=i=>y.value=!1)},"取消"),s("button",{class:"confirm-btn",onClick:J,disabled:!f.value||C.value||!t.value?.equipped},[d(u(T),{size:16}),B(" "+a(C.value?"施展中...":"施展神通"),1)],8,ne)])])):_("",!0)]),_:1},8,["show"]),d(h,{show:z.value,"onUpdate:show":e[4]||(e[4]=i=>z.value=i),"mask-closable":!0},{default:$(()=>[s("div",{class:D(["result-modal",{success:c.value?.success}])},[s("div",de,[(o(),P(X(c.value?.success?u(es):u(as)),{size:48})),s("h2",null,a(c.value?.skillName),1)]),s("p",ue,a(c.value?.message),1),c.value?(o(),n("div",ce,[c.value.damage?(o(),n("div",re,[d(u(ts),{size:14}),s("span",null,"造成伤害："+a(c.value.damage),1)])):_("",!0),c.value.selfCost?(o(),n("div",ve,[d(u(ls),{size:14}),s("span",null,"消耗修为："+a(c.value.selfCost),1)])):_("",!0),c.value.lootedSpiritStones?(o(),n("div",pe,[d(u(is),{size:14}),s("span",null,"夺取灵石："+a(c.value.lootedSpiritStones),1)])):_("",!0),c.value.formationBroken!==void 0?(o(),n("div",{key:3,class:D(["detail-item",{success:c.value.formationBroken}])},[d(u(os),{size:14}),s("span",null,a(c.value.formationBroken?"护山大阵已破":"护山大阵抵御成功"),1)],2)):_("",!0)])):_("",!0),s("button",{class:"close-result-btn",onClick:e[3]||(e[3]=i=>z.value=!1)},"确定")],2)]),_:1},8,["show"])])}}}),$e=ds(fe,[["__scopeId","data-v-693fed64"]]);export{$e as default};
