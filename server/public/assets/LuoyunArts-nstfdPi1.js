import{a2 as Ce,c6 as w,k as g,e as Me,X as Ee,bx as X,f as I,N as R,S as Re,a0 as Ae,c as d,a as e,F as S,q as x,d as u,g as t,n as v,h as Te,p as h,Z as o,s as C,j as P,l as qe,a1 as ze,an as Ie,bG as xe,o as l}from"./index-DA11XDlS.js";import{c as G}from"./createLucideIcon-DiiZaxVK.js";import{R as Pe}from"./refresh-cw-5h0-qbhL.js";import{L as Ge}from"./loader-circle-BnoPFgCr.js";import{C as Ne}from"./circle-alert-CQn7xOz3.js";import{S as $}from"./sword-BlVHvUf1.js";import{Z as H}from"./zap-vMqaBpWc.js";import{S as Le}from"./star-D9p6u3Oh.js";import{T as J}from"./trophy-B8Qqs7MA.js";import{D as T}from"./droplets-DjVgL-MW.js";import{S as De}from"./shield-BMlq6Nq0.js";import{C as K}from"./clock-Bnzg_83l.js";import{S as ee}from"./sparkles-tsZM6BNv.js";import{C as Q}from"./circle-CrOpxm0o.js";import{F as Fe}from"./flame-DuW_991e.js";import{L as Oe}from"./leaf-CVdWMOfX.js";import{M as We}from"./mountain-C4LejbVd.js";import{u as $e}from"./use-message--i6DiThE.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Qe=G("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ve=G("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);const Ue=G("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const te=G("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),V={1:{id:"demon_pill_tier1",name:"一阶妖丹",maturityGain:20,contributionGain:10,quality:"common",color:"#9ca3af"},2:{id:"demon_pill_tier2",name:"二阶妖丹",maturityGain:50,contributionGain:30,quality:"uncommon",color:"#22c55e"},3:{id:"demon_pill_tier3",name:"三阶妖丹",maturityGain:100,contributionGain:60,quality:"rare",color:"#3b82f6"},4:{id:"demon_pill_tier4",name:"四阶妖丹",maturityGain:200,contributionGain:100,quality:"epic",color:"#a855f7"},5:{id:"demon_pill_tier5",name:"五阶妖丹",maturityGain:500,contributionGain:200,quality:"legendary",color:"#f59e0b"}},Be={growing:{name:"生长中",color:"#22c55e",icon:"TreePine"},harvesting:{name:"收获期",color:"#f59e0b",icon:"Sparkles"},invaded:{name:"被入侵",color:"#ef4444",icon:"Sword"}},se={thirsty:{name:"干渴",description:"土壤干裂，急需水灵力滋润",requiredElement:"water",icon:"Droplets",color:"#3b82f6"},unstable:{name:"根基松动",description:"根系不稳，需要土灵力加固",requiredElement:"earth",icon:"Mountain",color:"#a16207"},withered:{name:"生机萎靡",description:"缺乏生机，需要木灵力注入",requiredElement:"wood",icon:"Leaf",color:"#22c55e"},frozen:{name:"寒气侵蚀",description:"寒气入侵，需要火灵力驱散",requiredElement:"fire",icon:"Flame",color:"#ef4444"},overgrown:{name:"枝叶杂乱",description:"枝叶疯长，需要金灵力修剪",requiredElement:"metal",icon:"Scissors",color:"#9ca3af"}},ne={water:{name:"水",color:"#3b82f6",icon:"Droplets"},earth:{name:"土",color:"#a16207",icon:"Mountain"},wood:{name:"木",color:"#22c55e",icon:"Leaf"},fire:{name:"火",color:"#ef4444",icon:"Flame"},metal:{name:"金",color:"#9ca3af",icon:"Scissors"}},M={1:{name:"萌芽期",woodRequired:0,maxPatterns:1,description:"灵眼之树初生，蕴含一缕木灵"},2:{name:"生长期",woodRequired:100,maxPatterns:2,description:"枝叶舒展，灵纹初显"},3:{name:"成熟期",woodRequired:300,maxPatterns:3,description:"根深叶茂，灵纹璀璨"},4:{name:"结果期",woodRequired:600,maxPatterns:4,description:"灵果欲坠，四纹齐聚"}},ae={0:{name:"凡品",baseCultivation:5e3,color:"#9ca3af"},1:{name:"灵品",baseCultivation:1e4,color:"#22c55e"},2:{name:"仙品",baseCultivation:18e3,color:"#3b82f6"},3:{name:"极品",baseCultivation:25e3,color:"#a855f7"},4:{name:"神品",baseCultivation:3e4,color:"#f59e0b"}},Ze={metal_pure:{elements:["metal"],canSatisfyAny:!1},wood_pure:{elements:["wood"],canSatisfyAny:!1},water_pure:{elements:["water"],canSatisfyAny:!1},fire_pure:{elements:["fire"],canSatisfyAny:!1},earth_pure:{elements:["earth"],canSatisfyAny:!1},metal_heaven:{elements:["metal","wood"],canSatisfyAny:!1},wood_heaven:{elements:["wood"],canSatisfyAny:!1},water_heaven:{elements:["water","wood"],canSatisfyAny:!1},fire_heaven:{elements:["fire","wood"],canSatisfyAny:!1},earth_heaven:{elements:["earth","wood"],canSatisfyAny:!1},metal_wood:{elements:["metal","wood"],canSatisfyAny:!1},metal_water:{elements:["metal","water"],canSatisfyAny:!1},metal_fire:{elements:["metal","fire"],canSatisfyAny:!1},metal_earth:{elements:["metal","earth"],canSatisfyAny:!1},wood_water:{elements:["wood","water"],canSatisfyAny:!1},wood_fire:{elements:["wood","fire"],canSatisfyAny:!1},wood_earth:{elements:["wood","earth"],canSatisfyAny:!1},water_fire:{elements:["water","fire"],canSatisfyAny:!1},water_earth:{elements:["water","earth"],canSatisfyAny:!1},fire_earth:{elements:["fire","earth"],canSatisfyAny:!1},pseudo:{elements:[],canSatisfyAny:!0},waste:{elements:[],canSatisfyAny:!0},mixed:{elements:[],canSatisfyAny:!0}},je=Ce("luoyun",{state:()=>({isMember:!1,tree:null,contribution:null,rankings:[],loading:!1,error:null,lastRefresh:0}),getters:{canWater(){return this.contribution?.canWater??!1},canHarvest(){return this.tree?.canHarvest??!1},isInvaded(){return this.tree?.status==="invaded"},hasDefended(){return this.contribution?.defendedInvasion??!1},hasClaimed(){return this.contribution?.rewardsClaimed??!1},maturityDisplay(){return this.tree?`${this.tree.maturityPercent.toFixed(2)}%`:"0.00%"},myRank(){return this.contribution?.rank??0},isTopRanked(){const i=this.myRank;return i>0&&i<=10},treeStatusConfig(){return this.tree?Be[this.tree.status]:null},currentEnvironmentConfig(){return this.tree?se[this.tree.environment]:null},currentStageConfig(){return this.tree?M[this.tree.currentStage]??M[1]??null:null},currentFruitQuality(){const i=this.tree?.spiritPatterns||0;return ae[i]??ae[0]??{name:"凡品",baseCultivation:5e3,color:"#9ca3af"}},totalWoodElement(){return this.tree?.stageElementPool&&this.tree.stageElementPool.wood||0},stageProgress(){if(!this.tree)return 0;const i=this.tree.currentStage,a=this.totalWoodElement,m=M[i],f=i+1;if(f>4||!m)return 100;const E=M[f];if(!E)return 100;const N=E.woodRequired-m.woodRequired,c=a-m.woodRequired;return Math.min(100,Math.floor(c/N*100))},environmentTimeRemaining(){if(!this.tree)return 0;const i=Date.now()-this.tree.lastEnvironmentChangeAt,a=3600*1e3;return Math.max(0,a-i)}},actions:{async fetchStatus(){this.loading=!0,this.error=null;try{const a=(await w.getStatus()).data;this.isMember=a.isLuoyunMember,this.tree=a.tree,this.contribution=a.contribution,this.rankings=a.rankings||[],this.lastRefresh=Date.now()}catch(i){throw this.error=g(i,"获取状态失败"),i}finally{this.loading=!1}},async waterTree(){this.loading=!0;try{const a=(await w.waterTree()).data;return this.tree&&(this.tree.maturity=a.newMaturity,this.tree.maturityPercent=a.newMaturity/100),this.contribution&&(this.contribution.contribution=a.newContribution,this.contribution.canWater=!1,this.contribution.wateredToday=!0),a}catch(i){throw i}finally{this.loading=!1}},async offerPill(i,a){this.loading=!0;try{const f=(await w.offerPill(i,a)).data;return this.tree&&(this.tree.maturity=f.newMaturity,this.tree.maturityPercent=f.newMaturity/100),this.contribution&&(this.contribution.contribution=f.newContribution),f}catch(m){throw m}finally{this.loading=!1}},async defend(){this.loading=!0;try{const a=(await w.defend()).data;return this.tree&&(this.tree.defendersCount=a.defendersCount),this.contribution&&(this.contribution.contribution=a.newContribution,this.contribution.defendedInvasion=!0),a}catch(i){throw i}finally{this.loading=!1}},async claimHarvest(){this.loading=!0;try{const a=(await w.claimHarvest()).data;return this.contribution&&(this.contribution.rewardsClaimed=!0),a}catch(i){throw i}finally{this.loading=!1}},async fetchRankings(i=20){try{const a=await w.getRankings(i);return this.rankings=a.data,this.rankings}catch(a){throw a}},async useLiquid(i){this.loading=!0;try{return(await w.useLiquid(i)).data}catch(a){throw a}finally{this.loading=!1}},async satisfyEnvironment(){this.loading=!0;try{const a=(await w.satisfyEnvironment()).data;return this.tree&&(this.tree.environmentSatisfied=!0,a.stageEvolved&&a.newStage&&(this.tree.currentStage=a.newStage),this.tree.spiritPatterns+=a.patternsGained),this.contribution&&(this.contribution.contribution=a.newContribution,this.contribution.environmentSatisfyCount++),a}catch(i){throw i}finally{this.loading=!1}},canSatisfyCurrentEnvironment(i){if(!this.tree||this.tree.environmentSatisfied)return!1;const a=Ze[i];if(!a||a.canSatisfyAny)return!0;const m=se[this.tree.environment]?.requiredElement;return m?a.elements.includes(m):!1},getPillConfig(i){return V[i]},reset(){this.isMember=!1,this.tree=null,this.contribution=null,this.rankings=[],this.loading=!1,this.error=null,this.lastRefresh=0}}}),Ye={class:"luoyun-arts"},Xe={class:"spirit-particles"},Je={class:"page-header"},Ke={class:"header-icon"},et=["disabled"],tt={key:0,class:"loading-container"},st={key:1,class:"not-member"},nt={class:"tree-overview"},at={class:"tree-visual"},it={class:"tree-container"},ot={class:"maturity-section"},rt={class:"maturity-label"},lt={class:"maturity-value"},ct={class:"maturity-bar"},dt={class:"maturity-info"},ut={key:0,class:"invasion-warning"},mt={class:"stage-section"},ft={class:"stage-header"},ht={class:"stage-info"},vt={class:"stage-name"},pt={class:"stage-desc"},yt={class:"spirit-patterns"},_t={class:"pattern-dots"},wt={class:"stage-progress"},gt={class:"progress-label"},bt={class:"progress-value"},kt={class:"progress-bar"},St={class:"fruit-preview"},Ct={class:"fruit-reward"},Mt={class:"status-cards"},Et={class:"status-card"},Rt={class:"status-icon contribution-icon"},At={class:"status-info"},Tt={class:"status-value"},qt={class:"status-card"},zt={class:"status-info"},It={class:"status-card"},xt={class:"status-info"},Pt={class:"status-value"},Gt={key:0,class:"status-card"},Nt={class:"status-info"},Lt={class:"status-value"},Dt={key:0,class:"environment-section"},Ft={class:"env-header"},Ot={class:"env-info"},Wt={class:"env-name"},$t={class:"env-desc"},Ht={class:"env-timer"},Qt={class:"env-requirement"},Vt={key:0,class:"env-satisfied-badge"},Ut=["disabled"],Bt={key:1,class:"env-warning"},Zt={class:"action-section"},jt={key:0,class:"action-card"},Yt={class:"action-header"},Xt={key:0,class:"action-tip"},Jt=["disabled"],Kt={key:1,class:"action-card invasion"},es={class:"action-header"},ts={class:"action-desc"},ss=["disabled"],ns={key:2,class:"action-card harvest"},as={class:"action-header"},is={key:0,class:"reward-preview"},os={key:0,class:"bonus-reward"},rs=["disabled"],ls={key:0,class:"offer-section"},cs={class:"section-header"},ds={class:"pill-grid"},us=["onClick"],ms={class:"pill-info"},fs={class:"pill-name"},hs={class:"pill-effect"},vs={class:"pill-contrib"},ps={key:0,class:"offer-controls"},ys={class:"count-input"},_s=["disabled"],ws={class:"ranking-section"},gs={class:"section-header"},bs={class:"ranking-list"},ks={class:"rank-name"},Ss={class:"rank-contrib"},Cs={key:0,class:"rank-reward"},Ms={key:0,class:"no-rankings"},Es={class:"help-section"},Rs={class:"section-header"},As={class:"help-content"},Ts={class:"help-item"},qs={class:"help-item"},zs={class:"help-item"},Is={class:"help-item"},xs={class:"help-item"},Ps={class:"help-item"},Gs=Me({__name:"LuoyunArts",setup(i){const a=Te(),m=$e(),f=je(),E=Ee(),{isMember:N,tree:c,contribution:p,rankings:U,loading:b}=X(f),{canWater:L,isTopRanked:D,myRank:F,maturityDisplay:ie,treeStatusConfig:oe,currentEnvironmentConfig:k,currentStageConfig:B,currentFruitQuality:O,stageProgress:re,totalWoodElement:le}=X(f),Z=I(!0),_=I(null),y=I(1),ce=R(()=>_.value?V[_.value]:null),de={minDefendersToSucceed:3},ue=R(()=>E.character?.id||""),me=R(()=>(E.character?.spiritRootId||"").includes("wood")),fe=R(()=>E.character?.spiritRootId||""),W=R(()=>f.canSatisfyCurrentEnvironment(fe.value)),q=I("");let z=null;const j=()=>{if(!c.value){q.value="";return}const n=Date.now()-c.value.lastEnvironmentChangeAt,s=3600*1e3,r=Math.max(0,s-n);if(r<=0)q.value="即将变化";else{const A=Math.floor(r/6e4),Y=Math.floor(r%(1e3*60)/1e3);q.value=`${A}:${Y.toString().padStart(2,"0")}`}},he=n=>({Droplets:T,Mountain:We,Leaf:Oe,Flame:Fe,Scissors:Ue})[n]||T,ve=R(()=>{if(!c.value)return 100;const n=c.value.currentStage+1;return n>4?M[4]?.woodRequired||600:M[n]?.woodRequired||100}),pe=n=>({1:3,2:2,3:2,4:1,5:1,6:1,7:1,8:1,9:1,10:1})[n]||0,ye=n=>{if(!n||n<=0)return"0分钟";const s=Math.floor(n/(1e3*60*60)),r=Math.floor(n%(1e3*60*60)/(1e3*60));return s>0?`${s}小时${r}分钟`:`${r}分钟`},_e=async()=>{try{await f.fetchStatus()}catch(n){m.error(g(n,"刷新失败"))}},we=async()=>{try{const n=await f.waterTree();m.success(n.message)}catch(n){m.error(g(n,"浇灌失败"))}},ge=async()=>{try{const n=await f.defend();m.success(n.message)}catch(n){m.error(g(n,"参与防御失败"))}},be=async()=>{try{const n=await f.claimHarvest();m.success(n.message)}catch(n){m.error(g(n,"领取奖励失败"))}},ke=async()=>{if(_.value)try{const n=await f.offerPill(_.value,y.value);m.success(n.message),_.value=null,y.value=1}catch(n){m.error(g(n,"献祭失败"))}},Se=async()=>{try{const n=await f.satisfyEnvironment();m.success(n.message),n.stageEvolved&&m.info(`灵眼之树进入${M[n.newStage]?.name||"新阶段"}！`),n.patternsGained>0&&m.success(`获得${n.patternsGained}条灵纹！`)}catch(n){m.error(g(n,"满足环境失败"))}};return Re(async()=>{try{await f.fetchStatus(),j(),z=setInterval(j,1e3)}catch(n){m.error(g(n,"加载失败"))}finally{Z.value=!1}}),Ae(()=>{z&&(clearInterval(z),z=null)}),(n,s)=>(l(),d("div",Ye,[e("div",Xe,[(l(),d(S,null,x(12,r=>e("div",{key:r,class:"particle",style:C({"--delay":r*.5+"s","--x":Math.random()*100+"%","--size":Math.random()*6+3+"px"})},null,4)),64))]),e("div",Je,[s[5]||(s[5]=e("div",{class:"header-glow"},null,-1)),e("div",Ke,[s[4]||(s[4]=e("div",{class:"icon-pulse"},null,-1)),u(t(te),{size:24})]),s[6]||(s[6]=e("div",{class:"header-text"},[e("h1",null,"灵眼之树"),e("p",null,"共培神木，守护落云")],-1)),e("button",{class:"refresh-btn",onClick:_e,disabled:t(b)},[u(t(Pe),{size:18,class:v({spinning:t(b)})},null,8,["class"])],8,et)]),Z.value?(l(),d("div",tt,[u(t(Ge),{size:32,class:"spin"}),s[7]||(s[7]=e("span",null,"正在感应灵树...",-1))])):t(N)?(l(),d(S,{key:2},[e("div",nt,[e("div",at,[e("div",it,[e("div",{class:v(["tree-glow",t(c)?.status])},null,2),e("div",{class:v(["tree-icon",t(c)?.status])},[u(t(te),{size:64})],2),e("div",{class:v(["tree-status-badge",t(c)?.status])},o(t(oe)?.name||"未知"),3)]),e("div",ot,[e("div",rt,[s[10]||(s[10]=e("span",null,"成熟度",-1)),e("span",lt,o(t(ie)),1)]),e("div",ct,[e("div",{class:"maturity-fill",style:C({width:(t(c)?.maturityPercent||0)+"%"})},null,4)]),e("div",dt,[e("span",null,"第 "+o(t(c)?.cycle||1)+" 周期",1),t(c)?.status==="invaded"?(l(),d("span",ut,[u(t($),{size:14}),P(" 入侵中！剩余 "+o(ye(t(c).invasionTimeRemaining)),1)])):h("",!0)])]),e("div",mt,[e("div",ft,[e("div",ht,[u(t(H),{size:16,style:{color:"#22c55e"}}),e("span",vt,o(t(B)?.name||"萌芽期"),1),e("span",pt,o(t(B)?.description),1)]),e("div",yt,[s[11]||(s[11]=e("span",{class:"pattern-label"},"灵纹",-1)),e("div",_t,[(l(),d(S,null,x(4,r=>e("div",{key:r,class:v(["pattern-dot",{active:r<=(t(c)?.spiritPatterns||0)}])},null,2)),64))])])]),e("div",wt,[e("div",gt,[s[12]||(s[12]=e("span",null,"木元素积累",-1)),e("span",bt,o(t(le))+" / "+o(ve.value),1)]),e("div",kt,[e("div",{class:"progress-fill wood",style:C({width:t(re)+"%"})},null,4)])]),e("div",St,[s[13]||(s[13]=e("span",null,"预计果实品质：",-1)),e("span",{class:"fruit-quality",style:C({color:t(O).color})},o(t(O).name),5),e("span",Ct,"（基础 +"+o(t(O).baseCultivation)+" 修为）",1)])])]),e("div",Mt,[e("div",Et,[e("div",Rt,[u(t(Le),{size:20})]),e("div",At,[s[14]||(s[14]=e("span",{class:"status-label"},"我的贡献",-1)),e("span",Tt,o(t(p)?.contribution||0),1)])]),e("div",qt,[e("div",{class:v(["status-icon rank-icon",{"top-rank":t(D)}])},[u(t(J),{size:20})],2),e("div",zt,[s[15]||(s[15]=e("span",{class:"status-label"},"当前排名",-1)),e("span",{class:v(["status-value",{"top-rank":t(D)}])},o(t(F)>0?"第"+t(F)+"名":"未上榜"),3)])]),e("div",It,[e("div",{class:v(["status-icon water-icon",{available:t(L)}])},[u(t(T),{size:20})],2),e("div",xt,[s[16]||(s[16]=e("span",{class:"status-label"},"今日浇灌",-1)),e("span",Pt,o(t(p)?.wateredToday?"已完成":"可浇灌"),1)])]),t(c)?.status==="invaded"?(l(),d("div",Gt,[e("div",{class:v(["status-icon defend-icon",{defended:t(p)?.defendedInvasion}])},[u(t(De),{size:20})],2),e("div",Nt,[s[17]||(s[17]=e("span",{class:"status-label"},"防御者",-1)),e("span",Lt,o(t(c).defendersCount)+" / "+o(t(c).defendersNeeded),1)])])):h("",!0)]),t(c)&&t(k)?(l(),d("div",Dt,[e("div",Ft,[e("div",{class:v(["env-status",{satisfied:t(c).environmentSatisfied}])},[(l(),qe(ze(he(t(k).icon)),{size:24,style:C({color:t(k).color})},null,8,["style"])),e("div",Ot,[e("span",Wt,o(t(k).name),1),e("span",$t,o(t(k).description),1)])],2),e("div",Ht,[u(t(K),{size:14}),e("span",null,o(q.value),1)])]),e("div",Qt,[s[18]||(s[18]=e("span",{class:"req-label"},"需求元素：",-1)),e("span",{class:"req-element",style:C({color:t(ne)[t(k).requiredElement]?.color})},o(t(ne)[t(k).requiredElement]?.name)+"灵力 ",5),t(c).environmentSatisfied?(l(),d("span",Vt," ✓ 已满足 ")):h("",!0)]),!t(c).environmentSatisfied&&t(c).status==="growing"?(l(),d("button",{key:0,class:v(["satisfy-btn",{disabled:!W.value}]),disabled:!W.value||t(b),onClick:Se},[W.value?(l(),d(S,{key:0},[u(t(H),{size:16}),s[19]||(s[19]=P(" 注入灵力 ",-1))],64)):(l(),d(S,{key:1},[P(" 灵根不匹配 ")],64))],10,Ut)):h("",!0),t(c).environmentSatisfied?h("",!0):(l(),d("p",Bt," ⚠ 未满足环境需求，每小时将损失5%成熟度 "))])):h("",!0)]),e("div",Zt,[t(c)?.status==="growing"?(l(),d("div",jt,[e("div",Yt,[u(t(T),{size:18}),s[20]||(s[20]=e("span",null,"浇灌灵树",-1))]),s[21]||(s[21]=e("p",{class:"action-desc"},"消耗50修为，增加0.5%成熟度和10贡献值",-1)),me.value?(l(),d("p",Xt,"木灵根亲和：贡献翻倍！")):h("",!0),e("button",{class:"action-btn water-btn",disabled:!t(L)||t(b),onClick:we},o(t(L)?"浇灌":"今日已浇灌"),9,Jt)])):h("",!0),t(c)?.status==="invaded"?(l(),d("div",Kt,[e("div",es,[u(t($),{size:18}),s[22]||(s[22]=e("span",null,"古剑宗入侵！",-1))]),e("p",ts,"参与防御可获得20额外贡献，需"+o(t(c).defendersNeeded)+"人防御成功",1),e("button",{class:"action-btn defend-btn",disabled:t(p)?.defendedInvasion||t(b),onClick:ge},o(t(p)?.defendedInvasion?"已参与防御":"参与防御"),9,ss)])):h("",!0),t(c)?.status==="harvesting"?(l(),d("div",ns,[e("div",as,[u(t(ee),{size:18}),s[23]||(s[23]=e("span",null,"收获期",-1))]),s[25]||(s[25]=e("p",{class:"action-desc"},"灵树成熟，快来领取奖励！",-1)),t(p)&&!t(p).rewardsClaimed?(l(),d("div",is,[s[24]||(s[24]=e("span",null,"预计奖励：灵眼枝×1 + 200修为",-1)),t(D)?(l(),d("span",os,"+ 灵眼之液×"+o(pe(t(F))),1)):h("",!0)])):h("",!0),e("button",{class:"action-btn harvest-btn",disabled:t(p)?.rewardsClaimed||t(b),onClick:be},o(t(p)?.rewardsClaimed?"已领取":"领取奖励"),9,rs)])):h("",!0)]),t(c)?.status==="growing"?(l(),d("div",ls,[e("div",cs,[u(t(Q),{size:18}),s[26]||(s[26]=e("span",null,"献祭妖丹",-1))]),e("div",ds,[(l(!0),d(S,null,x(t(V),(r,A)=>(l(),d("div",{key:A,class:v(["pill-card",{selected:_.value===Number(A)}]),onClick:Y=>_.value=Number(A)},[e("div",{class:"pill-icon",style:C({color:r.color})},[u(t(Q),{size:24})],4),e("div",ms,[e("span",fs,o(r.name),1),e("span",hs,"+"+o(r.maturityGain/100)+"% 成熟度",1),e("span",vs,"+"+o(r.contributionGain)+" 贡献",1)])],10,us))),128))]),_.value?(l(),d("div",ps,[e("div",ys,[e("button",{onClick:s[1]||(s[1]=r=>y.value=Math.max(1,y.value-1))},"-"),Ie(e("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=r=>y.value=r),min:"1",max:"99"},null,512),[[xe,y.value,void 0,{number:!0}]]),e("button",{onClick:s[3]||(s[3]=r=>y.value=Math.min(99,y.value+1))},"+")]),e("button",{class:"offer-btn",disabled:t(b),onClick:ke}," 献祭 "+o(ce.value?.name)+" ×"+o(y.value),9,_s)])):h("",!0)])):h("",!0),e("div",ws,[e("div",gs,[u(t(J),{size:18}),s[27]||(s[27]=e("span",null,"贡献排行",-1))]),e("div",bs,[(l(!0),d(S,null,x(t(U),r=>(l(),d("div",{key:r.characterId,class:v(["ranking-item",{"is-me":r.characterId===ue.value,"top-three":r.rank<=3}])},[e("div",{class:v(["rank-badge","rank-"+r.rank])},o(r.rank),3),e("div",ks,o(r.characterName),1),e("div",Ss,o(r.contribution),1),r.rewardQuantity>0?(l(),d("div",Cs,[u(t(Ve),{size:14}),P(" ×"+o(r.rewardQuantity),1)])):h("",!0)],2))),128)),t(U).length===0?(l(),d("div",Ms,"暂无贡献记录")):h("",!0)])]),e("div",Es,[e("div",Rs,[u(t(Qe),{size:18}),s[28]||(s[28]=e("span",null,"系统说明",-1))]),e("div",As,[e("div",Ts,[u(t(K),{size:14}),s[29]||(s[29]=e("span",null,"每小时环境变化，对应灵根弟子可注入灵力满足需求",-1))]),e("div",qs,[u(t(H),{size:14}),s[30]||(s[30]=e("span",null,"满足环境获得木元素，累积木元素可升级阶段获得灵纹",-1))]),e("div",zs,[u(t(T),{size:14}),s[31]||(s[31]=e("span",null,"每日浇灌一次（消耗50修为），木灵根弟子贡献翻倍",-1))]),e("div",Is,[u(t(Q),{size:14}),s[32]||(s[32]=e("span",null,"献祭妖丹可增加成熟度和贡献，无次数限制",-1))]),e("div",xs,[u(t($),{size:14}),e("span",null,"成熟度达100%触发古剑宗入侵，需"+o(de.minDefendersToSucceed)+"人防御成功",1)]),e("div",Ps,[u(t(ee),{size:14}),s[33]||(s[33]=e("span",null,"灵纹数量决定果实品质（0-4纹对应凡品-神品）",-1))])])])],64)):(l(),d("div",st,[u(t(Ne),{size:48}),s[8]||(s[8]=e("h2",null,"无法修习",-1)),s[9]||(s[9]=e("p",null,"只有落云宗弟子才能参与灵眼之树的培育",-1)),e("button",{class:"go-sect-btn",onClick:s[0]||(s[0]=r=>t(a).push({name:"MySect"}))},"前往宗门")]))]))}}),tn=He(Gs,[["__scopeId","data-v-80924359"]]);export{tn as default};
