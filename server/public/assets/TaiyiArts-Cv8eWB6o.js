import{a2 as $,f as M,N as v,bw as S,e as I,bx as V,S as Z,c as d,a as s,F as L,q as N,d as a,g as n,p as G,Z as l,s as p,l as D,a1 as A,n as R,k as O,o as r}from"./index-DA11XDlS.js";import{S as q}from"./sparkles-tsZM6BNv.js";import{L as P}from"./loader-circle-BnoPFgCr.js";import{C as j}from"./circle-alert-CQn7xOz3.js";import{B as H}from"./brain-DeRvb8zF.js";import{T as J}from"./trending-up-BXfb3B-f.js";import{T as K}from"./triangle-alert-vQJa5xBQ.js";import{C as F}from"./clock-Bnzg_83l.js";import{C as Q}from"./compass-Ib-7RBlT.js";import{Z as W}from"./zap-vMqaBpWc.js";import{T as X}from"./target-CxCFSND-.js";import{S as Y}from"./shield-BMlq6Nq0.js";import{C as ss}from"./crosshair-CUb3FOF1.js";import{M as es}from"./mountain-C4LejbVd.js";import{F as ns}from"./flame-DuW_991e.js";import{D as ts}from"./droplets-DjVgL-MW.js";import{L as os}from"./leaf-CVdWMOfX.js";import{C as is}from"./circle-CrOpxm0o.js";import{u as as}from"./use-message--i6DiThE.js";import{_ as ls}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-DiiZaxVK.js";const rs={metal:"金",wood:"木",water:"水",fire:"火",earth:"土"},cs={metal:"#c9a959",wood:"#52c41a",water:"#1890ff",fire:"#f5222d",earth:"#8b4513"},ds={metal:"linear-gradient(135deg, #c9a959 0%, #ffd700 100%)",wood:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",water:"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)",fire:"linear-gradient(135deg, #f5222d 0%, #ff4d4f 100%)",earth:"linear-gradient(135deg, #8b4513 0%, #a0522d 100%)"};function U(i){if(i<=0)return"已就绪";const c=Math.floor(i/(3600*1e3)),u=Math.floor(i%(3600*1e3)/(60*1e3));return c>0?`${c}小时${u}分钟`:`${u}分钟`}const us=$("taiyi",()=>{const i=M(null),c=M([]),u=M(!1),f=M(!1),B=v(()=>i.value?.isTaiyiMember??!1),h=v(()=>i.value?.consciousness??0),k=v(()=>i.value?.consciousnessBonus??0),w=v(()=>i.value?.canUseGuidance??!1),C=v(()=>i.value?U(i.value.guidanceCooldownRemaining):""),m=v(()=>i.value?.activeBuff??null),_=v(()=>m.value?{name:m.value.buff.name,element:rs[m.value.element],description:m.value.buff.description,remainingTime:U(m.value.remainingTime)}:null),T=v(()=>i.value?.totalDebuffEffect??0);async function g(){u.value=!0;try{const t=await S.getStatus();i.value=t.data}catch(t){throw console.error("获取太一门状态失败:",t),t}finally{u.value=!1}}async function b(){try{const t=await S.getElements();c.value=t.data}catch(t){throw console.error("获取元素列表失败:",t),t}}async function y(t){f.value=!0;try{const o=(await S.useGuidance(t)).data;return await g(),o}catch(e){throw console.error("使用引道失败:",e),e}finally{f.value=!1}}async function E(t){f.value=!0;try{const o=(await S.useConsciousnessStrike(t)).data;return await g(),o}catch(e){throw console.error("使用神识冲击失败:",e),e}finally{f.value=!1}}async function z(){await Promise.all([g(),b()])}function x(){i.value=null,c.value=[],u.value=!1,f.value=!1}return{status:i,elements:c,loading:u,actionLoading:f,isTaiyiMember:B,consciousness:h,consciousnessBonus:k,canUseGuidance:w,guidanceCooldownText:C,activeBuff:m,activeBuffText:_,totalDebuffEffect:T,fetchStatus:g,fetchElements:b,useGuidance:y,useConsciousnessStrike:E,initialize:z,reset:x}}),fs={class:"taiyi-arts"},ms={class:"consciousness-particles"},vs={class:"page-header"},ps={class:"header-icon"},_s={key:0,class:"loading-container"},gs={key:1,class:"not-member"},ys={class:"consciousness-card"},hs={class:"consciousness-left"},ks={class:"consciousness-icon"},ws={class:"consciousness-info"},bs={class:"consciousness-row"},Cs={class:"consciousness-value"},Ts={class:"consciousness-progress"},Es={class:"consciousness-right"},zs={class:"effect-tag bonus"},Ms={key:0,class:"effect-tag debuff"},Ss={key:0,class:"active-buff"},Bs={class:"buff-content"},xs={class:"buff-name"},Ls={class:"buff-desc"},Ns={class:"buff-time"},Gs={key:1,class:"cooldown-tip"},Ds={class:"section"},As={class:"section-header"},Rs={class:"elements-grid"},Fs=["onClick"],Us={class:"element-name"},$s={class:"element-dao"},Is={class:"guidance-reward"},Vs={class:"section"},Zs={class:"section-header"},Os={class:"skills-list"},qs={class:"skill-item"},Ps={class:"skill-icon passive"},js={class:"skill-content"},Hs={class:"skill-bonus"},Js={class:"skill-icon active"},Ks={class:"skill-content"},Qs={class:"skill-cost"},Ws={class:"current"},Xs=I({__name:"TaiyiArts",setup(i){const c=us(),{loading:u,actionLoading:f,isTaiyiMember:B,consciousness:h,consciousnessBonus:k,canUseGuidance:w,guidanceCooldownText:C,activeBuff:m,activeBuffText:_,totalDebuffEffect:T,elements:g}=V(c),b=as();function y(t){return cs[t]}function E(t){return ds[t]}function z(t){return{metal:is,wood:os,water:ts,fire:ns,earth:es}[t]}async function x(t){if(!(!w.value||f.value))try{const e=await c.useGuidance(t);b.success(e.message)}catch(e){b.error(O(e,"引道失败"))}}return Z(async()=>{try{await c.initialize()}catch(t){console.error("初始化太一门系统失败:",t)}}),(t,e)=>(r(),d("div",fs,[s("div",ms,[(r(),d(L,null,N(15,o=>s("div",{key:o,class:"particle",style:p({"--delay":o*.4+"s","--x":Math.random()*100+"%","--size":Math.random()*4+2+"px"})},null,4)),64))]),s("div",vs,[e[1]||(e[1]=s("div",{class:"header-glow"},null,-1)),s("div",ps,[e[0]||(e[0]=s("div",{class:"icon-pulse"},null,-1)),a(n(q),{size:24})]),e[2]||(e[2]=s("div",{class:"header-text"},[s("h1",null,"神识与引道"),s("p",null,"太一门秘法，参悟五行大道")],-1))]),n(u)?(r(),d("div",_s,[a(n(P),{size:32,class:"spin"}),e[3]||(e[3]=s("span",null,"正在感应神识...",-1))])):n(B)?(r(),d(L,{key:2},[s("div",ys,[e[8]||(e[8]=s("div",{class:"consciousness-glow"},null,-1)),s("div",hs,[s("div",ks,[e[6]||(e[6]=s("div",{class:"consciousness-icon-pulse"},null,-1)),a(n(H),{size:22})]),s("div",ws,[s("div",bs,[e[7]||(e[7]=s("span",{class:"consciousness-label"},"神识",-1)),s("span",Cs,l(n(h)),1)]),s("div",Ts,[s("div",{class:"progress-fill",style:p({width:Math.min(n(k)/20*100,100)+"%"})},null,4)])])]),s("div",Es,[s("div",zs,[a(n(J),{size:12}),s("span",null,"+"+l(n(k))+"%",1)]),n(T)>0?(r(),d("div",Ms,[a(n(K),{size:12}),s("span",null,"+"+l(n(T))+"%",1)])):G("",!0)])]),n(_)?(r(),d("div",Ss,[s("div",{class:"buff-icon",style:p({background:E(n(m).element)})},[(r(),D(A(z(n(m).element)),{size:20}))],4),s("div",Bs,[s("div",xs,l(n(_).name),1),s("div",Ls,l(n(_).description),1)]),s("div",Ns,[a(n(F),{size:14}),s("span",null,l(n(_).remainingTime),1)])])):!n(w)&&n(C)?(r(),d("div",Gs,[a(n(F),{size:16}),s("span",null,"引道冷却中: "+l(n(C)),1)])):G("",!0),s("div",Ds,[s("div",As,[a(n(Q),{size:18}),e[9]||(e[9]=s("span",null,"每日引道",-1)),e[10]||(e[10]=s("span",{class:"section-hint"},"选择参悟一种大道",-1))]),s("div",Rs,[(r(!0),d(L,null,N(n(g),o=>(r(),d("div",{key:o.element,class:R(["element-card",{disabled:!n(w)||n(f)}]),style:p({"--element-color":y(o.element)}),onClick:Ys=>x(o.element)},[e[11]||(e[11]=s("div",{class:"element-glow"},null,-1)),s("div",{class:"element-icon",style:p({background:E(o.element)})},[s("div",{class:"element-icon-ring",style:p({borderColor:y(o.element)})},null,4),s("div",{class:"element-icon-pulse",style:p({background:y(o.element)})},null,4),(r(),D(A(z(o.element)),{size:24}))],4),s("div",Us,l(o.name),1),s("div",$s,l(o.daoName),1),s("div",{class:"element-buff",style:p({color:y(o.element)})},l(o.buff.name),5)],14,Fs))),128))]),s("div",Is,[a(n(W),{size:14}),e[12]||(e[12]=s("span",null,"每次引道获得 100 神识 + 12小时增益",-1))])]),s("div",Vs,[s("div",Zs,[a(n(X),{size:18}),e[13]||(e[13]=s("span",null,"神识技能",-1))]),s("div",Os,[s("div",qs,[s("div",Ps,[a(n(Y),{size:18})]),s("div",js,[e[14]||(e[14]=s("div",{class:"skill-header"},[s("span",{class:"skill-name"},"道心通明"),s("span",{class:"skill-type passive"},"被动")],-1)),e[15]||(e[15]=s("div",{class:"skill-desc"},"每200点神识增加1%闭关成功率",-1)),s("div",Hs,"当前: +"+l(n(k))+"% (上限20%)",1)])]),s("div",{class:R(["skill-item",{insufficient:n(h)<100}])},[s("div",Js,[a(n(ss),{size:18})]),s("div",Ks,[e[17]||(e[17]=s("div",{class:"skill-header"},[s("span",{class:"skill-name"},"神识冲击"),s("span",{class:"skill-type active"},"主动")],-1)),e[18]||(e[18]=s("div",{class:"skill-desc"},"斗法追击，70%几率使对方失败率+15%",-1)),s("div",Qs,[e[16]||(e[16]=s("span",null,"消耗: 100神识",-1)),s("span",Ws,"(当前: "+l(n(h))+")",1)])])],2)])])],64)):(r(),d("div",gs,[a(n(j),{size:48}),e[4]||(e[4]=s("h2",null,"无法参悟",-1)),e[5]||(e[5]=s("p",null,"只有太一门弟子才能修习神识与引道之法",-1))]))]))}}),we=ls(Xs,[["__scopeId","data-v-a192048e"]]);export{we as default};
